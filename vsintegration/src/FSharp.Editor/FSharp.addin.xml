<?xml version="1.0" encoding="UTF-8" ?>
<ExtensionModel>
    <Runtime>
        <Import assembly="FSharp.Editor.dll" />
    </Runtime>
    <Extension path="/MonoDevelop/Ide/Composition">
        <Assembly file="FSharp.Editor.dll"/>
        <Assembly file="Microsoft.CodeAnalysis.ExternalAccess.FSharp.dll"/>
    </Extension>

    <Extension path = "/MonoDevelop/Ide/ProjectTemplatePackageRepositories">
        <PackageRepository path="Packages" />
    </Extension>

    <Extension path="/MonoDevelop/ProjectModel/MSBuildItemTypes">
        <DotNetProjectType language="F#" extension="fsproj" guid="{F2A71F9B-5D33-465A-A702-920D77279786}" type="MonoDevelop.FSharp.FSharpProject"/>
    </Extension>

    <Extension path = "/MonoDevelop/ProjectModel/ProjectModelExtensions">
        <Condition id="MSBuildTargetIsAvailable" target="$(MSBuildExtensionsPath32)\..\Microsoft SDKs\F#\3.1\Framework\v4.0\Microsoft.Portable.FSharp.Targets">
            <ProjectFlavor guid="{786c830f-07a1-408b-bd7f-6ee04809d6db}" type="FSharp.Editor.PortableFSharpProjectFlavor" language="F#" alias="F#PortableLibrary"/>
        </Condition>
    </Extension>

    <Extension path="/MonoDevelop/Core/MimeTypes">
        <MimeType id="text/x-fsharp" _description="F# Source File" icon="md-file-source" isText="true">
            <File pattern="*.fs" />
        </MimeType>
        <MimeType id="text/x-fsharp" _description="F# Script File" icon="md-file-source" isText="true">
            <File pattern="*.fsx" />
            <File pattern="*.fsscript" />
        </MimeType>
        <MimeType id="text/x-fsharp" _description="F# Signature File" icon="md-file-header" isText="true">
            <File pattern="*.fsi" />
        </MimeType>
        <MimeType id="application/fsproject+xml" _description="F# project file" baseType="application/xml">
            <File pattern="*.fsproj" />
        </MimeType>
    </Extension>
    <Extension path="/MonoDevelop/ProjectModel/LanguageBindings">
        <LanguageBinding id="F#"
                         extensions=".fs,.fsi,.fsx,.fsscript,.sketchfs"
                         singleLineCommentTag="//"
                         blockCommentStartTag="(*"
                         blockCommentEndTag="*)" />
<!--                     codeDomType="FSharp.Compiler.CodeDom.FSharpCleanCodeProvider" />-->
    </Extension>

    <Extension path="/MonoDevelop/Ide/Pads">
        <ComplexCondition>
            <Or>
                <Condition id="MSBuildTargetIsAvailable" target="$(MSBuildExtensionsPath32)\..\Microsoft SDKs\F#\3.0\Framework\v4.0\Microsoft.FSharp.Targets" />
                <Condition id="MSBuildTargetIsAvailable" target="$(MSBuildExtensionsPath32)\..\Microsoft SDKs\F#\3.1\Framework\v4.0\Microsoft.FSharp.Targets" />
                <Condition id="MSBuildTargetIsAvailable" target="$(MSBuildExtensionsPath32)\..\Microsoft SDKs\F#\4.0\Framework\v4.0\Microsoft.FSharp.Targets" />
            </Or>
            <Pad id="FSharp.Editor.FSharpInteractivePad" defaultPlacement="Bottom" _label="F# Interactive" icon="md-project" class="Microsoft.VisualStudio.FSharp.Editor.FSharpInteractivePad" />
        </ComplexCondition>
    </Extension>
    <Extension path="/MonoDevelop/Ide/Commands">
        <!-- RefactoryCommands -->
    <!--
    <Category _name = "Refactoring" id = "Refactoring" >
      <Command id = "MonoDevelop.FSharp.CurrentRefactoringOperations"
               defaultHandler = "MonoDevelop.FSharp.CurrentRefactoringOperationsHandler"
               type="array"
               _label = "Refactoring Operations" />
    </Category>
    <ComplexCondition>
      <Or>
        <Condition id="MSBuildTargetIsAvailable" target="$(MSBuildExtensionsPath32)\..\Microsoft SDKs\F#\3.0\Framework\v4.0\Microsoft.FSharp.Targets" />
        <Condition id="MSBuildTargetIsAvailable" target="$(MSBuildExtensionsPath32)\..\Microsoft SDKs\F#\3.1\Framework\v4.0\Microsoft.FSharp.Targets" />
        <Condition id="MSBuildTargetIsAvailable" target="$(MSBuildExtensionsPath32)\..\Microsoft SDKs\F#\4.0\Framework\v4.0\Microsoft.FSharp.Targets" />
      </Or>
      <Category _name = "F# Integration" id="F# Integration">
        <Command id="MonoDevelop.FSharp.FSharpCommands.ShowFSharpInteractive"
                 _label = "F# Interactive"
                 type="check"
                 _description="Show F# Interactive pad."
                 macShortcut="Control|Alt|F"
                 defaultHandler="MonoDevelop.FSharp.ShowFSharpInteractive" />

        <Command id="MonoDevelop.FSharp.FSharpCommands.SendFile"
                 _label = "Send current file to F# Interactive"
                 _description="Send the current file to F# Interactive"
                 macShortcut=""
                 defaultHandler="MonoDevelop.FSharp.SendFile" />

        <Command id="MonoDevelop.FSharp.FSharpCommands.SendSelection"
                 _label = "Send selection to F# Interactive"
                 _description="Send the selected text to F# Interactive"
                 macShortcut="Ctrl|Return"
                 defaultHandler="MonoDevelop.FSharp.SendSelection" />

        <Command id="MonoDevelop.FSharp.FSharpCommands.SendLine"
                 _label = "Send line to F# Interactive"
                 _description="Send the current line to F# Interactive"
                 macShortcut="Ctrl|Alt|L"
                 defaultHandler="MonoDevelop.FSharp.SendLine" />

        <Command _description="Send the current project references to F# Interactive"
                 _label="Send references to F# Interactive"
                 defaultHandler="MonoDevelop.FSharp.SendReferences"
                 id="MonoDevelop.FSharp.FSharpCommands.SendReferences"
                 macShortcut="Ctrl|Alt|P" />

        <Command _description="Restart F# Interactive"
                 _label="Restart F# Interactive"
                 defaultHandler="MonoDevelop.FSharp.RestartFsi"
                 id="MonoDevelop.FSharp.FSharpCommands.RestartFsi"
                 macShortcut="Ctrl|Alt|R" />

        <Command _description="Clear F# Interactive"
                 _label="Clear F# Interactive"
                 defaultHandler="MonoDevelop.FSharp.ClearFsi"
                 id="MonoDevelop.FSharp.FSharpCommands.ClearFsi"
                 macShortcut="Ctrl|Alt|C" />
        <Command _description="Start debugging an .fsx script"
                 _label="Start Debugging"
                 id="MonoDevelop.FSharp.SolutionPad.DebugScriptInternal" />
        <Command _description="Start debugging an .fsx script"
                 _label="Start Debugging on External Console"
                 id="MonoDevelop.FSharp.SolutionPad.DebugScriptExternal" />
        <Command _description="Start debugging an .fsx script"
                 _label="Start Debugging"
                 id="MonoDevelop.FSharp.Editor.DebugScriptInternal" />
        <Command _description="Start debugging an .fsx script"
                 _label="Start Debugging on External Console"

                 id="MonoDevelop.FSharp.Editor.DebugScriptExternal" />
        <Command _description="Toggle type signature help"
                 _label="Toggle type signature help"
                 id="MonoDevelop.FSharp.SignatureHelp.Toggle" />

        <Command _description="Quick Fix Menu"
                 id="MonoDevelop.FSharp.QuickFixMenu"
                 _label="Quick Fix"
                 type = "array"
                 defaultHandler = "MonoDevelop.FSharp.QuickFixMenuHandler" />
      </Category>
    </ComplexCondition>
    -->
    </Extension>
</ExtensionModel>
